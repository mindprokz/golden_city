const app=angular.module("stone_app",[]);app.controller("main",["$scope","$http",function(e,i){e.portfolio=[],e.limit_portfolio=8,e.modal={active_slide:0,header:"",description:"",main_img:"",thumbnails:[],length_slide:null},i.get("http://golden-city.kz/?json=get_category_posts&category_slug=port&count=10000").then(function(i){for(var t=i.data.posts,l=0,a=t.length;a>l;l++){var o={};o.image_bg=t[l].thumbnail_images.large.url,o.head_short=t[l].custom_fields.info_head_short[0],o.desc_short=t[l].custom_fields.info_desc_short[0],o.header=t[l].title,o.description=t[l].content,o.thumbnails=[],o.thumbnails[0]=t[l].custom_fields.info_thumbnails1[0],o.thumbnails[1]=t[l].custom_fields.info_thumbnails2[0],o.thumbnails[2]=t[l].custom_fields.info_thumbnails3[0],o.thumbnails[3]=t[l].custom_fields.info_thumbnails4[0],e.portfolio.push(o)}e.modal.length_slide=i.data.length-1}),e.open_modal=function(){document.querySelector("#modal").classList.remove("close")},e.update_modal=function(i,t){e.modal.active_slide=i,e.modal.header=e.portfolio[i].header,e.modal.description=e.portfolio[i].description,e.modal.main_img=e.portfolio[i].image_bg,e.modal.thumbnails=e.portfolio[i].thumbnails,document.querySelector("#modal .wrapper .left > .wrap_img img").setAttribute("src",e.modal.main_img),t&&t()},e.slide_left=function(){0!==e.modal.active_slide&&(e.modal.active_slide-=1,e.update_modal(e.modal.active_slide))},e.slide_right=function(){e.modal.active_slide!==e.modal.length_slide&&(e.modal.active_slide+=1,e.update_modal(e.modal.active_slide))},e.change_main_img=function(i){e.modal.main_img=i},document.querySelector(".closer").addEventListener("mouseenter",function(){this.parentNode.parentNode.setAttribute("style","opacity: 0.5")}),document.querySelector(".closer").addEventListener("mouseleave",function(){this.parentNode.parentNode.setAttribute("style","opacity: 1")}),document.querySelector(".closer").addEventListener("click",function(){this.parentNode.parentNode.classList.add("close")});var t=document.querySelectorAll(".wrap_elem_modal");t=Array.prototype.slice.call(t),t.forEach(function(i,t,l){i.onclick=function(){e.modal.main_img=this.firstElementChild.getAttribute("src"),document.querySelector("#modal .wrapper .left > .wrap_img img").setAttribute("src",e.modal.main_img)}}),e.seeMore=function(){e.limit_portfolio+=8}}]),app.controller("plitka_slider",["$scope",function(e){e.main_slider_images={images:["/img/plitka/1.png","/img/plitka/2.png","/img/plitka/3.png","/img/plitka/4.png","/img/plitka/5.png","/img/plitka/6.png","/img/plitka/7.png","/img/plitka/8.png","/img/plitka/9.png","/img/plitka/10.png","/img/plitka/11.png","/img/plitka/12.png"],active:0},e.main_src="/img/plitka/1.png",e.slide_left=function(){0!==e.main_slider_images.active&&(e.main_slider_images.active-=1,e.main_src=e.main_slider_images.images[e.main_slider_images.active],e.slider_button_update())},e.slide_right=function(){11!==e.main_slider_images.active&&(e.main_slider_images.active+=1,e.main_src=e.main_slider_images.images[e.main_slider_images.active],e.slider_button_update())},e.slider_button_update=function(){document.querySelector("#slider .left .list .icon.active").classList.remove("active"),document.querySelectorAll("#slider .left .list .icon")[e.main_slider_images.active].classList.add("active")},e.button_click=function(i){e.main_slider_images.active=i,e.main_src=e.main_slider_images.images[e.main_slider_images.active],e.slider_button_update()},e.main_slider_images.images.forEach(function(e,i,t){var l=new Image;l.src="http://golden-city.kz/wp-content/themes/Golden_theme/"+e})}]),app.controller("auto_slider",["$scope","$http",function(e,i){e.main_obj_slide={active:"",image_list:[],active_list:0,style_preload:"display: none;"},i.get("http://golden-city.kz/?json=get_category_posts&category_slug=gallary&count=25").then(function(i){e.main_obj_slide.image_list=i.data.posts[0].content.split(","),e.main_obj_slide.active=e.main_obj_slide.image_list[0],console.log()}),e.slide_left=function(){0!=e.main_obj_slide.active_list&&(e.main_obj_slide.active=e.main_obj_slide.image_list[e.main_obj_slide.active_list-1],e.main_obj_slide.active_list-=1,e.main_obj_slide.style_preload="",document.querySelector('#portfolio .slider_gallary img[alt="main_slide"]').classList.add("fadeOut"),document.querySelector('#portfolio .slider_gallary img[alt="main_slide"]').classList.remove("fadeIn"),document.querySelector("#portfolio .icon.active").classList.remove("active"),document.querySelectorAll("#portfolio .icon")[e.main_obj_slide.active_list].classList.add("active"))},e.slide_right=function(){e.main_obj_slide.active_list!=e.main_obj_slide.image_list.length-1&&(e.main_obj_slide.active=e.main_obj_slide.image_list[e.main_obj_slide.active_list+1],e.main_obj_slide.active_list+=1,e.main_obj_slide.style_preload="",document.querySelector('#portfolio .slider_gallary img[alt="main_slide"]').classList.add("fadeOut"),document.querySelector('#portfolio .slider_gallary img[alt="main_slide"]').classList.remove("fadeIn"),document.querySelector("#portfolio .icon.active").classList.remove("active"),document.querySelectorAll("#portfolio .icon")[e.main_obj_slide.active_list].classList.add("active"))},e.button_click=function(i){i!=e.main_obj_slide.active_list&&(document.querySelector("#portfolio .icon.active").classList.remove("active"),document.querySelectorAll("#portfolio .icon")[i].classList.add("active"),e.main_obj_slide.active=e.main_obj_slide.image_list[i],e.main_obj_slide.active_list=i,e.main_obj_slide.style_preload="",document.querySelector('#portfolio .slider_gallary img[alt="main_slide"]').classList.add("fadeOut"),document.querySelector('#portfolio .slider_gallary img[alt="main_slide"]').classList.remove("fadeIn"))},document.querySelector('#portfolio .slider_gallary img[alt="main_slide"]').addEventListener("load",function(){document.querySelector(".loading").setAttribute("style","display: none;"),document.querySelector('#portfolio .slider_gallary img[alt="main_slide"]').classList.add("fadeIn"),document.querySelector('#portfolio .slider_gallary img[alt="main_slide"]').classList.remove("fadeOut")})}]);